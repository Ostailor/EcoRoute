Can you fix the implementation of real-time updates?

Currently the code does not do real time updates. 